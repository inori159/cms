<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.briup.dao.extend.ArticleExtendMapper">
  <resultMap id="BaseResultExtendMap" type="com.briup.bean.extend.ArticleExtend" extends="com.briup.dao.ArticleMapper.BaseResultMap">
  	<association property="category" resultMap="com.briup.dao.CategoryMapper.BaseResultMap" ></association>
  	<association property="user" resultMap="com.briup.dao.UserMapper.BaseResultMap"></association>
  	<collection property="comments" resultMap="com.briup.dao.CommentMapper.BaseResultExtendMap"></collection>
  	
  </resultMap>
  <select id="cascadeFindAll" resultMap="BaseResultExtendMap">
  	select ca.id,ca.title,ca.category_id,cc.name,cc.no,cu.username
  	from cms_article ca,cms_category cc,cms_user cu
  	where ca.category_id=cc.id
	and ca.author_id=cu.id
  </select>
  
  <select id="findById" resultMap="BaseResultExtendMap" parameterType="int">
		select ca.id,ca.title,cc.content as cccontent
		from cms_article ca,cms_comment cc
		where ca.id = #{id}
		
<!-- 	select * -->
<!-- 	from cms_article -->
<!-- 	where id=#{id} -->
  </select>
</mapper>