<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.briup.dao.extend.PrivilegeExtendMapper">
  <resultMap id="BaseResultExtendMap" type="com.briup.bean.extend.PrivilegeExtend" >
    <result column="cpname" jdbcType="VARCHAR" property="name" />
    <result column="cpdescription" jdbcType="VARCHAR" property="description" />
    <result column="cproute" jdbcType="VARCHAR" property="route" />
    <result column="cptype" jdbcType="VARCHAR" property="type" />
    <result column="cpicon" jdbcType="VARCHAR" property="icon" />
    <collection property="childrens" resultMap="com.briup.dao.PrivilegeMapper.BaseResultMap"></collection>
  </resultMap>
  
  <select id="findAll" resultMap="BaseResultExtendMap">
		select cp1.name as cpname,cp1.description as cpdescription,
		cp1.route as cproute,cp1.type as cptype,cp1.icon as cpicon
		,cp2.*
		from cms_privilege cp1,cms_privilege cp2
		where cp1.id=cp2.parent_id		
  </select>
  
</mapper>